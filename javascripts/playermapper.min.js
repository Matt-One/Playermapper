/*! Playermapper - CDawg [20170717] */
var char_matrix=1;var map_matrix=1;var map_buffer="";var zoom=100;var zoom_max=250;var zoom_min=25;var map_x=map_y=map_drag_x=map_drag_y=0;function showCharMatrix(){if(char_matrix){$("#char_matrix").hide();char_matrix=0;}else {$("#char_matrix").show();char_matrix=1;}}function showMapMatrix(){if(map_matrix){$(".map").css('background-image', 'none');map_matrix=0;}else{$(".map").css('background-image', map_buffer);map_matrix=1;console.log(map_buffer);}}$( function() {setTimeout(function(){/*map_buffer=$(".map").css('background-image').replace(/https?:\/\/[^\/]+/i, "");*/
map_buffer=$(".map").css('background-image');}, 1000)/*$("#nav_menu").draggable();*/
$(".map").draggable({cursor:"move",drag: function(){var offset=$(this).offset();map_drag_x=offset.left;map_drag_y=offset.top;}});$(window).mousewheel(function(turn, delta){if(delta==1){if(zoom>zoom_max-5)return false;zoom+=5;}else {if(zoom<zoom_min+5)return false;console.log(zoom);zoom-=5;}$(".map").css("zoom", zoom+"%");$("#zoom_val").text(zoom+"%");return false;});});function mapShift(dir){if(dir==1){map_y+=50;$('.map').css("top", map_y+map_drag_y);}else if(dir==2){map_y -=50;$('.map').css("top", map_y+map_drag_y);}else if(dir==3){map_x+=50;$('.map').css("left", map_x+map_drag_x);}else if(dir==4){map_x -=50;$('.map').css("left", map_x+map_drag_x);}else{map_x=map_y=map_drag_x=map_drag_y=0;mapResetPos();}}function mapZoom(zdir){if(zoom >= zoom_max){zoom=zoom_max-1;return;}if(zoom <= zoom_min){zoom=zoom_min+1;return}if(zdir==2){zoom+=5;}else if(zdir==1){zoom-=5.0;}else{zoom=100;}$(".map").css("zoom", zoom+"%");$("#zoom_val").text(zoom+"%");}